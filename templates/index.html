<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MetaScan v2.1 Enhanced - Metadata Analysis Tool</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-shield-alt"></i>
                <h1>MetaScan</h1>
                <span class="version">v2.1 Enhanced</span>
            </div>
            <p class="tagline">
                <span class="glitch" data-text="Advanced Metadata Analysis & Privacy Protection">
                    Advanced Metadata Analysis & Privacy Protection
                </span>
            </p>
            <div class="info-section">
                <button id="infoBtn" class="btn btn-info">
                    <i class="fas fa-info-circle"></i>
                    Cybersecurity Info
                </button>
            </div>
        </header>

        <!-- Upload Section -->
        <section class="upload-section">
            <div class="upload-container">
                <div id="uploadBox" class="upload-box">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <h3>Drop files here or click to upload</h3>
                    <p>Supported formats: PNG, JPG, JPEG, GIF, TIFF, BMP, WEBP</p>
                    <p class="size-limit">Maximum size: 16MB</p>
                    <input type="file" id="fileInput" accept="image/*" style="display: none;">
                </div>
            </div>

            <div class="action-buttons">
                <button id="analyzeBtn" class="btn btn-primary" disabled>
                    <i class="fas fa-search"></i>
                    Analyze File
                </button>
                <button id="removeMetadataBtn" class="btn btn-secondary" disabled>
                    <i class="fas fa-broom"></i>
                    Remove Metadata
                </button>
            </div>
        </section>

        <!-- Results Section -->
        <section id="resultsSection" class="results-section" style="display: none;">
            <!-- Privacy Score -->
            <div class="card privacy-score-card">
                <h3><i class="fas fa-shield-alt"></i> Privacy Score</h3>
                <div class="score-container">
                    <div id="scoreCircle" class="score-circle">
                        <div id="scoreValue" class="score-value">0</div>
                        <div class="score-max">/100</div>
                    </div>
                    <div class="score-status">
                        <div id="scoreStatus" class="status-text">CALCULATING...</div>
                        <div class="score-explanation">
                            <p><strong>Score Guide:</strong></p>
                            <p>ðŸŸ¢ 80-100: Excellent (Minimal risks)</p>
                            <p>ðŸŸ¡ 60-79: Good (Minor concerns)</p>
                            <p>ðŸŸ  40-59: Moderate (Notable issues)</p>
                            <p>ðŸ”´ 0-39: Critical (Significant risks)</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Security Risks -->
            <div class="card">
                <h3><i class="fas fa-exclamation-triangle"></i> Security Risks</h3>
                <div id="risksContainer" class="risks-container">
                    <div class="loading">
                        <i class="fas fa-spinner fa-spin"></i>
                        Analyzing threats...
                    </div>
                </div>
            </div>

            <!-- Analysis Grid -->
            <div class="analysis-grid">
                <!-- File Information -->
                <div class="card">
                    <h4><i class="fas fa-file-alt"></i> File Information</h4>
                    <div id="fileInfoContainer" class="data-container">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            Gathering file info...
                        </div>
                    </div>
                </div>

                <!-- EXIF Metadata -->
                <div class="card">
                    <h4><i class="fas fa-camera"></i> EXIF Metadata</h4>
                    <div id="exifContainer" class="data-container">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            Extracting metadata...
                        </div>
                    </div>
                </div>

                <!-- GPS Location -->
                <div class="card">
                    <h4><i class="fas fa-map-marker-alt"></i> GPS Location</h4>
                    <div id="gpsContainer" class="data-container">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            Checking location data...
                        </div>
                    </div>
                </div>

                <!-- QR Codes -->
                <div class="card">
                    <h4><i class="fas fa-qrcode"></i> QR Codes</h4>
                    <div id="qrContainer" class="data-container">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            Scanning for QR codes...
                        </div>
                    </div>
                </div>

                <!-- Steganography -->
                <div class="card">
                    <h4><i class="fas fa-eye-slash"></i> Steganography</h4>
                    <div id="steganographyContainer" class="data-container">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            Detecting hidden data...
                        </div>
                    </div>
                </div>

                <!-- Script Injection -->
                <div class="card">
                    <h4><i class="fas fa-code"></i> Script Injection</h4>
                    <div id="scriptContainer" class="data-container">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            Checking for malicious code...
                        </div>
                    </div>
                </div>

                <!-- File Validation -->
                <div class="card">
                    <h4><i class="fas fa-check-circle"></i> File Validation</h4>
                    <div id="validationContainer" class="data-container">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            Validating file integrity...
                        </div>
                    </div>
                </div>

                <!-- Hash Values -->
                <div class="card">
                    <h4><i class="fas fa-fingerprint"></i> Hash Values</h4>
                    <div id="hashContainer" class="data-container">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            Calculating hashes...
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <h3>Processing...</h3>
            <p id="loadingText">Analyzing your file...</p>
        </div>
    </div>

    <!-- Info Modal -->
    <div id="infoModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-shield-alt"></i> Cybersecurity Concepts</h2>
                <span id="closeModal" class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div id="conceptsContainer" class="concept-grid">
                    <div class="loading">
                        <i class="fas fa-spinner fa-spin"></i>
                        Loading cybersecurity information...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Alert Container -->
    <div id="alertContainer" class="alert-container"></div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#" id="healthCheck">
                    <i class="fas fa-heart"></i>
                    System Health
                </a>
                <a href="/info" target="_blank">
                    <i class="fas fa-info-circle"></i>
                    Documentation
                </a>
                <a href="https://github.com/metascan/enhanced" target="_blank">
                    <i class="fab fa-github"></i>
                    Source Code
                </a>
            </div>
            <div class="footer-info">
                <p>&copy; 2025 MetaScan Enhanced v2.1 - Built with security in mind</p>
            </div>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/metascan.js') }}"></script>
</body>
</html>